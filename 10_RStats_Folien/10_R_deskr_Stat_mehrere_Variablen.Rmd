---
title: "Datenanalyse mit R - #10 Beschreibende Statistik: mehrere Variablen"
author: "Tobias Wiß, Carmen Walenta und Felix Wohlgemuth"
institute: "gespol, JKU"
date: "08.05.2020"
output:
  xaringan::moon_reader:
    lib_dir: libs
    seal: false
    nature:
      highlightStyle: github
      highlightLines: true
      highlightSpans: true
      countIncrementalSlides: false
---
class: inverse, middle 
### Datenanalyse mit R
# # 10 Beschreibende Statistik: mehrere Variablen
### Tobias Wiß, Carmen Walenta und Felix Wohlgemuth
### 08.05.2020
![logo](figures/gespol_logo.png)
---
class: inverse, middle
## Wiederholung
# Visualisierungen mit ggplot2
---
# Balkendiagramm geom_bar
Balkendiagramme werden per `geom_bar()` erstellt.  
`geom_bar` erwartet **eine** Variable entweder auf der x-Achse oder y-Achse. Diese wird in den aesthetics `aes()` in `ggplot()` oder in `geom_bar()` definiert. 

```{r bar 1, eval = FALSE}
# load data & packages
library(tidyverse)
wvs_data <- readRDS("_raw/wvs_short.rds")
# bar plot Germany & variable y = C001
wvs_data %>%
  filter(S003 == "DEU") %>% 
  drop_na(C001) %>% 
  ggplot(aes(y = C001)) + 
  geom_bar() +
  labs(title = "Jobs scarce: Men should have more right to a job than women",
  subtitle = "Deutschland Welle 6 2013", 
  caption = "1 = Stimme voll und ganz zu; 2 = Stimme zu; 3 = Stimme nicht zu; 4 = Stimme überhaupt nicht zu",
  x = "Anzahl", y = "")
```
*Um den Plot besser zu verstehen, haben wir mit `labs()` Titel und Achsenbeschriftungen festgelegt.* 
```{r bar 1a, include=FALSE}
# load data & packages
library(tidyverse)
wvs_data <- readRDS("_raw/wvs_short.rds")
```
---
```{r bar 2, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
# bar plot Germany & variable y = C001
wvs_data %>%
  filter(S003 == "DEU") %>%
  drop_na(C001) %>% 
  ggplot(aes(y = C001)) + 
  geom_bar() +
  labs(title = "Jobs scarce: Men should have more right to a job than women",
  subtitle = "Deutschland Welle 6 2013", 
  caption = "1 = Stimme voll und ganz zu; 2 = Stimme zu; 3 = Stimme nicht zu; 4 = Stimme überhaupt nicht zu",
  x = "Anzahl", y = "")
```
---
# Verteilung von kontinuierlichen Variablen visualisieren
Um die Verteilung von kontinuierlichen (numerischen) Variablen darzustellen, sind Histogramme, Dichteplots und Boxplots geeignet.

Im WVS sind wenige kontinuierliche Variablen. Daher bilden wir einen Index, der die Antworten von drei Variablen zu dem Thema "Erwerbsarbeit von Frauen" zusammenfasst. 
```{r index 1}
wvs_data_index <- wvs_data %>% 
  # answer "neither" transformed to NA
  naniar::replace_with_na(replace = list(C001 = 3)) %>% 
  # create women_index variable
  mutate(C001 = (((C001 - 1) / 1) - 1) * -1 ) %>% 
  mutate(D057 = (((D057 - 1) / 3) - 1) * -1 ) %>% 
  mutate(D063_B = (D063_B - 1) / 2) %>%
  # create women_index variable
  mutate(women_index = (C001 + D057 + D063_B) / 3)
```
---
# Histogramm geom_histogram()
Die Syntax von `geom_histogram()` ist sehr ähnlich zu `geom_bar()`.

Ein wichtiger Unterschied ist, dass R die Säulenbreite und damit die Anzahl der Säulen automatisch festlegt. Wir können diese aber auch manuell festlegen mit `binwidth = Säulenbreite in Einheit der Variable`.

```{r histogram 1, eval=FALSE}
wvs_data_index %>%
  filter(S003 == "DEU") %>%
  ggplot(aes(x = women_index)) +
  geom_histogram(binwidth = 0.125) # bin width 0.125 = 8 bars
```
---
```{r histogram 2, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
wvs_data_index %>%
  filter(S003 == "DEU") %>%
  ggplot(aes(x = women_index)) +
  geom_histogram(binwidth = 0.125) # bin width 0.125 = 8 bars
```
---
# Dichteplots geom_density()
Histogramme fassen Werte in Säulen zusammen und reduzieren damit die Komplexität der Verteilung. Dichteplots per `geom_density()` zeigen ein detaillierteres Bild. 

Da ggplot2 mit Ebenen arbeitet, können wir den Dichteplot auch auf das Histogramm legen. Falls wir nur den Dichteplot haben möchten, lassen wir die Zeile `geom_histogram()` einfach weg. 
```{r density 1, eval=FALSE}
wvs_data_index %>%
  filter(S003 == "DEU") %>%
  ggplot(aes(x = women_index)) +
  geom_histogram(aes(y = ..density..), binwidth = 0.125, alpha = 0.5) +
  geom_density(colour = "red")
```
*`geom_histogramm()` zeigt normalerweise die Anzahl der Ausprägungen auf der y-Achse. `geom_density()` zeigt die Dichte auf der y-Achse. Um die zwei Ebenen in einem Plot anzuzeigen, müssen wir die Skala des Histogramms per `aes(y = ..density..)` ändern. Alle andere Optionen ändern das Aussehen der Plots.*
---
```{r density 2,  echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
wvs_data_index %>%
  filter(S003 == "DEU") %>%
  ggplot(aes(x = women_index)) +
  geom_histogram(aes(y = ..density..), binwidth = 0.125, alpha = 0.5) +
  geom_density(colour = "red")
```
---
# Boxplots geom_boxplot()
Boxplots plotten die Werte von Ausreißern, das 25%- , das 50%- und das 75%-Quantil von numerischen kontinuierlichen Variablen. 

Die Variable für das Boxplot wird am besten auf der y-Achse angezeigt. Es kann eine andere Variable zusätzlich auf der x-Achse angezeigt werden, diese darf aber nicht kontinuierlich sein, sondern muss kategorial sein. Dann wird pro Wert der zweiten Variable ein Boxplot angezeigt. 
```{r boxplot 1, eval=FALSE}
wvs_data_index %>%
  ggplot(aes(y = women_index, x = S003, fill= S003)) +
  geom_boxplot() +
  geom_jitter(color="black", size=0.4, alpha=0.5) +
  theme(legend.position="none")
```
*Mit `geom_jitter()` zeigen wir zusätzlich alle Beobachtungen*
---
```{r boxplot 2, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
wvs_data_index %>%
  ggplot(aes(y = women_index, x = S003, fill= S003)) +
  geom_boxplot() +
  geom_jitter(color="black", size=0.4, alpha=0.5) +
  theme(legend.position="none")
```
---
class: inverse, middle
## R Sprechstunde Inhalte
Folgende Punkte haben wir diese Woche in der R Sprechstunde (07.05.) besprochen:
---
# R Sprechstunde Inhalte
1. End- und Anfangspunkte der x- oder y-Achse festlegen.

2. Angezeigte Werte von YEAR auf der x- oder y-Achse:  
  a. Umwandlung YEAR zu Faktor-Variable.  
  b. Skala der y-Achse definieren, so dass nur ganze Jahreszahlen angezeigt werden.
  
3. Antwortitems umbenennen.
---
```{r sprechstunde vorbereitung 1, eval = FALSE}
# Vorbereitung
## Pakte und Daten laden
library(tidyverse)
library(naniar)

## wvs data
wvs_data <- readRDS("_raw/wvs_short.rds")
## Index erstellen
wvs_data <- wvs_data %>% 
  # answer "neither" transformed to NA
  replace_with_na(replace = list(C001 = 3)) %>% 
  # 0-1 scale of each variable
  mutate(C001_trans = (((C001 - 1) / 1) - 1) * -1 ) %>% 
  mutate(D057_trans = (((D057 - 1) / 3) - 1) * -1 ) %>% 
  mutate(D063_B_trans = (D063_B - 1) / 2) %>%
  # create women_index variable
  mutate(women_index = (C001_trans + D057_trans + D063_B_trans) / 3) %>% 
  select(-C001_trans, -D057_trans, -D063_B_trans)

## SOCX Data
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
## yearly relative expenses
socx_data <- socx_data %>%
  mutate(cash_prop = (family_cash_total_pct_gdp / family_total_total_pct_gdp) * 100) %>%
  mutate(services_prop = (family_service_total_pct_gdp / family_total_total_pct_gdp) * 100)
```

```{r sprechstunde vorbereitung 2, include = FALSE}
# Vorbereitung
## Pakte und Daten laden
library(tidyverse)
library(naniar)

## wvs data
wvs_data <- readRDS("_raw/wvs_short.rds")
## Index erstellen
wvs_data <- wvs_data %>% 
  # answer "neither" transformed to NA
  replace_with_na(replace = list(C001 = 3)) %>% 
    # create women_index variable
  mutate(C001_trans = (((C001 - 1) / 1) - 1) * -1 ) %>% 
  mutate(D057_trans = (((D057 - 1) / 3) - 1) * -1 ) %>% 
  mutate(D063_B_trans = (D063_B - 1) / 2) %>%
  # create women_index variable
  mutate(women_index = (C001_trans + D057_trans + D063_B_trans) / 3) %>% 
  select(-C001_trans, -D057_trans, -D063_B_trans)

## SOCX Data
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
## relative Ausgaben por Jahr berechnen
socx_data <- socx_data %>%
  mutate(cash_prop = (family_cash_total_pct_gdp / family_total_total_pct_gdp) * 100) %>%
  mutate(services_prop = (family_service_total_pct_gdp / family_total_total_pct_gdp) * 100)
```
---
# 1. End- und Anfangspunkte der x- oder y-Achse festlegen
Vergleich der relativen Ausgaben für Sachleistungen (cash_prop) von vier Ländern.
```{r scale 1, eval=FALSE}
socx_data %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_line()
```
Da keiner der Werte unter circa 50% fällt wird dieser Bereich nicht angezeigt.
---
```{r scale 2, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
socx_data %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_line()
```
---
# 1. Die End- und Anfangspunkte der x- oder y-Achse festlegen
Mit `xlim()` und `ylim()` kann der Start- und Endpunkt der Skalen festgelegt werden. 
```{r scale 3, eval=FALSE}
socx_data %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_line() +
  xlim(2000, 2015) +
  ylim(0, 100)
```

*Mehr Infos: https://ggplot2.tidyverse.org/reference/lims.html* 
---
```{r scale 4, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
socx_data %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_line() +
  xlim(2000, 2015) +
  ylim(0, 100)
```
---
# 2. Angezeigte Werte von YEAR auf der x- oder y-Achse
ggplot wählt passende Werte für die Achsenbeschriftung. 

Da `YEAR` als numerische Variable definiert ist, kann das dazu führen, dass ggplot einfach 2001.5 anzeigt. Obwohl es keine Beobachtungen für Halbjahre im Datensatz gibt.
```{r YEAR 1, eval = FALSE}
socx_data %>% 
  filter(YEAR >= 2001 & YEAR < 2004) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_point(size = 3) +
  geom_line()
```
---
```{r YEAR 2, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
socx_data %>% 
  filter(YEAR >= 2001 & YEAR < 2004) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_point(size = 3) +
  geom_line()
```
---
# 2a. Umwandlung YEAR zu Faktor-Variable
Eine Möglichkeit das Problem zu lösen, ist YEAR in eine Faktor-Variable umzuwandeln.

YEAR ist eine ordinalskalierte Variable, deshalb nutzen wir `as.ordered()` und nicht `as.factor()`.
```{r YEAR 3, eval = FALSE}
socx_data <- socx_data %>% 
  mutate(YEAR_fac = as.ordered(YEAR))

socx_data %>% 
  filter(YEAR_fac %in% c(2001, 2002, 2003)) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR_fac, y = cash_prop, colour = COUNTRY)) +
  geom_point(size = 3) 
```
---
```{r YEAR 4, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
socx_data <- socx_data %>% 
  mutate(YEAR_fac = as.ordered(YEAR))

socx_data %>% 
  filter(YEAR_fac %in% c(2001, 2002, 2003)) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR_fac, y = cash_prop, colour = COUNTRY)) +
  geom_point(size = 3) 
```
---
# 2a. Umwandlung YEAR zu Faktor-Variable
Leider funktionieren einige geom_functions nicht mit Faktor-Variablen zB `geom_line()`.
```{r YEAR 5, eval = FALSE}
socx_data %>% 
  filter(YEAR_fac %in% c(2001, 2002, 2003)) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR_fac, y = cash_prop, colour = COUNTRY)) +
  geom_point(size = 3) +
  geom_line()
```
---
```{r YEAR 6, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
socx_data %>% 
  filter(YEAR_fac %in% c(2001, 2002, 2003)) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR_fac, y = cash_prop, colour = COUNTRY)) +
  geom_point() +
  geom_line()
```
---
# 2b. Skala der y-Achse definieren, so dass nur ganze Jahreszahlen angezeigt werden
Wir können auch einfach die auf den Achsen angezeigten Werte festlegen. Dazu müssen wir `YEAR` nicht umwandeln. Das funktioniert mit `scale_x_continous()`, `scale_y_continous()` aber auch `scale_x_discrete()`, `scale_y_discrete()`

Folgende Optionen können mit den Funktionen verändert werden:
* **name** : x or y axis labels
* **breaks** : control the breaks in the guide (axis ticks, grid lines, …):
    * *NULL* : hide all breaks
    * *waiver()* : the default break computation
    * a character or numeric vector specifying the breaks to display
* **labels** : labels of axis tick marks. Allowed values are :
    * *NULL* for no labels
    * *waiver()* for the default labels
    * character vector to be used for break labels
* **limits** : a numeric vector specifying x or y axis limits (min, max)
* **trans for axis transformations**. Possible values are “log2”, “log10”, “sqrt”, etc.
---
# 2b. Skala der y-Achse definieren, so dass nur ganze Jahreszahlen angezeigt werden
YEAR ist eine numerische kontinuierliche Variable, daher benötigen wir `scale_x_continuous()`.

Um nur ausgewählte Werte als Beschriftung auf der x-Achse anzuzeigen, nutzen wir `breaks = `
```{r YEAR 7, eval=FALSE}
socx_data %>% 
  filter(YEAR %in% c(2001, 2002, 2003)) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_point() +
  geom_line() +
  scale_x_continuous(breaks = c(2001, 2002, 2003))
```
---
```{r YEAR 8, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
socx_data %>% 
  filter(YEAR %in% c(2001, 2002, 2003)) %>% 
  filter(COUNTRY %in% c("AUT", "AUS", "DEU", "ITA")) %>% 
  ggplot(aes(x = YEAR, y = cash_prop, colour = COUNTRY)) +
  geom_point() +
  geom_line() +
  scale_x_continuous(breaks = c(2001, 2002, 2003))
```
---
# 3. Antwortitems umbenennen
In den WVS-Daten werden die Antwortmöglichkeiten der einzelnen Fragen nur als Nummern dargestellt. Das führt dazu, dass es manchmal nicht eindeutig ist wofür 1 oder 2 steht
```{r items 1, eval = FALSE}
wvs_data %>%
  ggplot(aes(y = D057)) + # define y-axis variable & data
  geom_bar() + # set boxplot  as geom_function
  facet_grid( 
    cols = vars(S003), 
    rows = vars(X001)) + # set facet variables
  labs(title = "Eine Hausfrau zu sein ist genauso erfüllend wie eine bezahlte Arbeit",
       subtitle = "Deutschland 2013 & Schweden 2011 Welle 6, getrennt nach Geschlecht",
       caption = "1 = Stimme voll und ganz zu; 2 = Stimme zu; 3 = Stimme nicht zu; 4 = Stimme überhaupt nicht zu",
       y = "", x = "Anzahl")
```
---
```{r items 2, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
wvs_data %>%
  ggplot(aes(y = D057)) + # define y-axis variable & data
  geom_bar() + # set boxplot  as geom_function
  facet_grid( 
    cols = vars(S003),
  rows = vars(X001)) + # set facet variables
  labs(title = "Eine Hausfrau zu sein ist genauso erfüllend wie eine bezahlte Arbeit",
       subtitle = "Deutschland 2013 & Schweden 2011 Welle 6, getrennt nach Geschlecht",
       caption = "1 = Stimme voll und ganz zu; 2 = Stimme zu; 3 = Stimme nicht zu; 4 = Stimme überhaupt nicht zu",
       y = "", x = "Anzahl")
```
---
# 3. Antwortitems umbenennen
Wir können die Antwortitems per `recode()` direkt in der Variable umbenennen, dadurch wird `X001` zur Character-Variable und `D507` in Kombination mit `as.ordered()` zu ordinalskalierten Character-Variable.
```{r items 3, eval=FALSE}
wvs_data <- wvs_data %>% 
  mutate(X001_chr = recode(X001, "1" = "Mann", "2" = "Frau")) %>% 
  mutate(D057_chr = recode(as.ordered(D057), 
                             "1" = "Stimme voll und ganz zu",
                             "2" = "Stimme zu",
                             "3" = "Stimme nicht zu",
                             "4" = "Stimme überhaupt nicht zu"))
wvs_data %>%
  drop_na(D057_chr) %>% 
  ggplot(aes(y = D057_chr)) + 
  geom_bar() + 
  facet_grid(cols = vars(S003), rows = vars(X001_chr)) + # set facet variables
  labs(title = "Eine Hausfrau zu sein ist genauso erfüllend wie eine bezahlte Arbeit",
       subtitle = "Deutschland 2013 & Schweden 2011 Welle 6, getrennt nach Geschlecht",
       y = "", x = "Anzahl")
```
---
```{r items 4, echo = FALSE,fig.height=7, fig.width=9.5, fig.align= 'center', dpi=150}
wvs_data <- wvs_data %>% 
  mutate(X001_chr = recode(X001, "1" = "Mann", "2" = "Frau")) %>% 
  mutate(D057_chr = recode(as.ordered(D057), 
                             "1" = "Stimme voll und ganz zu",
                             "2" = "Stimme zu",
                             "3" = "Stimme nicht zu",
                             "4" = "Stimme überhaupt nicht zu"))
wvs_data %>%
  drop_na(D057_chr) %>% 
  ggplot(aes(y = D057_chr)) + 
  geom_bar() + 
  facet_grid( 
    cols = vars(S003), 
    rows = vars(X001_chr)) + 
  labs(title = "Eine Hausfrau zu sein ist genauso erfüllend wie eine bezahlte Arbeit",
       subtitle = "Deutschland 2013 & Schweden 2011 Welle 6, getrennt nach Geschlecht",
       y = "", x = "Anzahl")
```
---
class: center, middle
Falls Sie noch Fragen haben, nutzen Sie das **Forum** auf moodle und unterstützen Sie Ihre Kolleg*innen mit Ihrem Wissen!  

![moodle_forum](figures/forum_moodle.png)

Nutzen Sie auch unsere **R Sprechstunde**.  
Jeden Donnerstag von 11:00 bis 11:45 auf zoom oder im Anschluss an die zoom-Sitzung zu Familienpolitik (Link finden Sie auf moodle).
---
class: inverse, middle
# Beziehungen zwischen Variablen
---
# Kreuztabelle zweier Variablen (absolut)
`table()` erstellt eine Kreuztabelle, welche die absoluten Häufigkeiten der Kombinationen aller Werte zweier Variablen enthält.
```{r table 1}
# absolute Häufigkeiten
table(wvs_data$C001, # erste Variable (Reihen)
      wvs_data$D057) # zweite Variable(Spalten)
```
*Obwohl die Variablen beide numerisch sind, interpretiert R sie richtig als kategoriale Variablen.* 
---
# Kreuztabelle zweier Variablen (relativ)
`prop.table` erstellt eine Kreuztabelle, welche die relativen Häufigkeiten der Kombinationen aller Werte zweier Variablen enthält.
```{r table 2}
# relative Häufigkeit
# im Verhältnis zur Summe aller Beobachtungen
prop.table(table(wvs_data$C001, wvs_data$D057))
```
---
# Kreuztabelle zweier Variablen (relativ)
```{r table 3}
# im Verhältnis zur Randsumme je Reihe
prop.table(table(wvs_data$C001, wvs_data$D057), 1) 
# im Verhältnis zur Randsumme je Spalte
prop.table(table(wvs_data$C001, wvs_data$D057), 2) 
```
---
# Chi-Quadrat-Test - Unabhängigkeitstest
Per `chisq.test(table())` können wir überprüfen, ob die zwei Variablen unabhängig voneinander sind. 

Ein signifikanter Test bedeutet, dass die beide Variablen nicht unabhängig voneinander sind. 
```{r chisqu}
chisq.test(table(wvs_data$C001, wvs_data$D057))
```
Da unser p-value niedriger als 0.05 ist, sind C001 und D057 nicht unabhängig voneinander.
---
# Kreuztabellen drei Variablen
Kreuztabellen können aber auch mehr als zwei Variablen berücksichtigen. Fügen wir `S003` hinzu, werden zwei Kreuztabellen erstellt. Eine für Deutschland und eine für Schweden.
```{r table 4}
table(wvs_data$C001,
      wvs_data$D057,
      wvs_data$S003)
```
---
# Korrelationen
Ob kontinuierliche Variablen zusammenhängen, können wir mit `cor()` testen. Korrelieren `X047` "Höhe des Einkommens" und der `women_index`?

*Da wir fehlende Werte im Datensatz haben, müsse wir mit `use = "complete.obs"`  spezifizieren, dass nur nicht-fehlende Werte berücksichtigt werden.* 
```{r cor}
cor(wvs_data$X047, wvs_data$women_index, use = "complete.obs")
```
Die Korrelation der zwei Variablen ist negativ aber auch sehr schwach.

**Der Zusammenhang zwischen Variablen sieht man am besten mit Plots.**   
**Nächste Woche werden wir die Zusammenhänge von kategorialen und kontinuierlichen Variablen visualisieren.**
---
# Übung 10
* Verwenden Sie den wvs_short Datensatz.   
(oder auch den Originaldatensatz, wenn sie andere Variablen und Zeiträume verwenden wollen)

* Wählen Sie zwei kategoriale Variablen:
  * erstellen Sie eine Kreuztabelle mit absoluten Häufigkeiten.
  * erstellen Sie eine Kreuztabelle mit relativen Häufigkeiten.
  
* Testen Sie die Korrelation zwei Variablen Ihrer Wahl.

* Laden Sie Ihr Skript bis zum 15.05. 12:00 auf moodle hoch.
