---
title: "Datenanalyse mit R"
subtitle: "#3 Daten und Datentypen"
author: "Tobias Wiß, Carmen Walenta <br> und Felix Wohlgemuth"
institute: "gespol, JKU"
date: "19.03.2020"
output:
  xaringan::moon_reader:
    lib_dir: libs
    seal: false
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
class: inverse, middle 
### Datenanalyse mit R
# # 3 Daten und Datentypen
### Tobias Wiß, Carmen Walenta und Felix Wohlgemuth
### 19.03.2020
![logo](figures/gespol_logo.png)
---
# Was haben wir letzte Woche gelernt?
**Variablen** sind Objekte in R in denen einzelne Werte oder auch eine Reihe von Werten gespeichert werden können
* Die Zuteilung eines Wertes zu einer Variable in R geschieht mit `<-`
* Bei mehreren Werten müssen diese mit `c()` verbunden werden, um dann einer Variable zugeteilt zu werden (zB:  `x <- c(1,2,3,4)` )
* Das ist ein Vektor mit der Länge 4
```{r vector1, echo=TRUE}
x <- c(1,2,3,4)

length(x)
```
---
# Was haben wir letzte Woche gelernt?
* Die Vektoren können in Rechnungen wie einzelne Werte verwendet werden (zB: `x * 2` hier werden alle Werte in x mit 2 multipliziert)
```{r vector2, echo=TRUE}
x
x * 2
```
(Wenn Sie den Inhalt eines Vektors wissen möchten, dann geben Sie einfach den Namen des Vektors in die Konsole ein oder führen Sie den Namen im Skript aus zB `x` wie oben im Skript)
---
# Was haben wir letzte Woche gelernt?
* Wenn zwei Vektoren gleicher länger multipliziert oder summiert werden, wird der erste Wert mit dem ersten Wert verechnet, der zweite Wert mit dem zweiten Wert usw.
```{r vector3, echo=TRUE}
x <- c(1,2,3,4)
y <- c(10,9,8,7)

x * y

2 * (x - y)
```
---
# Was haben wir letzte Woche gelernt?
* Vektoren unterschiedlicher Länge können nicht einfach so verechnet werden
* Bei unterschiedlicher Länger nimmt R nachdem alle Werte des kürzeren Vektors verrechnet sind wieder den ersten Wert, dann den zweiten Wert usw. 
```{r vector4, echo=TRUE}
z <- c(5,6,12)
q <- 12
r <- c(23, 34, 33, 2, 6, 9)
x
x + z
```
---
# Was haben wir letzte Woche gelernt?
Außnahmen:
* Vektoren mit der Länge 1 
* wenn die Länge des einen Vektors ein Vielfaches der Länge des anderen Vektors ist
```{r vector5, echo=TRUE}
z + q
z + r
```
---
# Was haben wir letzte Woche gelernt?
**Funktionen** fassen mehrere Schritte einer Berechnung zusammen
* Funktionen sind meist Teile eines Paketes oder werden von Ihnen selbst erstellt
* die `sum()` Funktion berechnet zB die Summe eines Vektors, dazu geben sie den Namen des Vektors zwischen den Klammern an
```{r function1, echo=TRUE}
sum(r)
```
* `length()` gibt die die Länge eines Vektor aus
```{r function2, echo=TRUE}
length(x)
```
---
# Was haben wir letzte Woche gelernt?
* Mit der Funktion `help()` wird die Erklärung für der Funktion in RStudio angezeigt
* In der Erklärung wird auch die Syntax der Funktion erklärt und welche Grundeinstellung die Funktion hat
```{r function 2, echo=TRUE, eval=FALSE}
help(sum)
```
**Description**: sum returns the sum of all the values present in its arguments <br>
**Usage**: sum(..., na.rm = FALSE) <br>
**Arguments** <br>
*...*	numeric or complex or logical vectors <br>
*na.rm logical* Should missing values (including NaN) be removed? <br>

* `sum()` hat die Grundeinstellung, dass fehlende Werte (NA) bei der Summenberechnung nicht entfernt werden
* Sie können die Einstellung bei Verwendung der Funktion ändern (zB: `sum(r, na.rm = TRUE)` da aber in r keine fehlende Werte sind, hat das kein Effekt)
---
# Was haben wir letzte Woche gelernt?
**Pakete** sind Bündel von Funktionen (teilweise inklusive Daten) und erweitern die Grundfunktionen von R. Sie werden von den Nutzer_innen erstellt und auf CRAN kostenfrei veröffentlicht.
* Pakete können von CRAN mit der Funktion `install.packages("PAKETNAME")` heruntergeladen und installiert werden
* Installieren müssen Sie das Paket nur einmal
* Mit `library(PAKTENAME)` wird das Paket zur Verwendung geladen
* Zur Verwendung der Funktionen eines Paketes müssen Sie das Paket am Anfang des Skriptes laden
---
class: center, middle
Falls Sie noch Fragen haben, nutzen Sie das Forum auf moodle und unterstützen Sie Ihre Kolleg*innen mit Ihrem Wissen!
![moodle_forum](figures/forum_moodle.png)
---
# Objektklassen in R 
R kann mit einer Vielzahl von verschiedenen Objekttypen arbeiten  
* **reele Zahlen (numeric)**
```{r object1, echo=TRUE}
menue_1 <- 5.80
class(menue_1)
```
R ist es egal ob der Vektor einen Wert oder mehrere Werte hat
```{r object 2, echo=TRUE}
mensa_preis <- c(4.30, 5.80, 2.90, 8.10)
class(mensa_preis)
```
---
# Objektklassen in R
* **ganze Zahlen** (integer)
```{r object 3, echo=TRUE}
# ganze Zahlen werden R mit L dargestellt
ganze_zahlen <- c(-8L, 35L, -44L)
class(ganze_zahlen)
```
---
# Objektklassen in R
Mit beiden numerischen Objekttypen kann R rechnen 
```{r object 4, echo=TRUE}
mean(mensa_preis)
mean(ganze_zahlen)
```
---
# Objektklassen in R
Aber es gibt nicht nur numerischen Objektklassen
* Variablen können auch Wörter oder **Texte** (character) enthalten
```{r object 5, echo=TRUE}
# Text wird in R mit " " dargestellt
teacher <- c("Tobias Wiß", "Carmen Walenta", "Felix Wohlgemuth")
class(teacher)
```
---
# Objektklassen in R
* R kann aber auch mit den **logischen** Ausdrücken TRUE und FALSE arbeiten
```{r object 6, echo = TRUE}
# sechs mal gewürfelt mit zwei Würfel
# hab ich bei dem Wurf einen Pasch gewürfelt?
pasch <- c(TRUE, FALSE, TRUE, TRUE, FALSE, TRUE)
class(pasch)
```
---
# Objektklassen in R
Auch mit nicht-numerischen Werten kann man in R rechnen
```{r object 7, echo=TRUE}
# Gibt es eine/n Dozent*in mit dem Namen Felix Wohlgemuth?
teacher == "Felix Wohlgemuth"

# Wie lang sind die Namen der Lehrenden?
nchar(teacher) 
# Leerzeichen sind auch Zeichen
```
---
# Objektklassen in R
```{r object 8, echo=TRUE}
# wie of habe ich einen Pasch gewürfelt?
sum(pasch)
# bei welchen Würfen hab ich einen Pasch gewürfelt
which(pasch == TRUE)
# bei welchen Würfen hab ich keinen Pasch gewürfelt
which(pasch == FALSE)
```
---
# Objektklassen in R
Bisher hatten wir nur Vektoren mit einer Sorte von Werten, aber in Vektoren können auch Werte unterschiedlicher Klassen gespeichert werden
```{r object 9, echo=TRUE}
# ein Vektor der den Namen des Kurses, die LVA-Nummer
# und die Anzahl der Studierende enthält
kurs_fampol <- c("VU Politikfelder – Familienpolitik", 229216, 35)
class(kurs_fampol)
```
Die Klasse des ganzen Vektors ist "character" also ein Text, obwohl die einzelne Elemente eigentlich "character" oder "numeric" wären
```{r object 10, echo=TRUE}
class("VU Politikfelder - Familienpolitik")
class(c(229216, 35))
```
---
# Datentypen in R
Bisher haben wir mit dem Datentyp "Vektor" mt unterschiedlicher Längern und Werter unterschiedlicher Klassen gearbeitet. R kennt aber mehrere Datentypen. 

Folgende Datentypen gibt es in R:
* Vektoren
* Matrizen
* Arrays
* Dataframes
* Listen

Wir werden nur mit **Vektoren** und **Dataframes** arbeiten. 
---
# Datentypen in R
**Vektoren** sind eigentlich eine geordnete Folge von Werten und können entweder aus einer Sorte von Klassen von Werten oder gemischten Klassen von Werten bestehen.
```{r typen 1, echo=TRUE}
# der Preis des menue_1 ist ein numerischer Vektor mit einem Wert
# also der Länge 1
str(menue_1)
# die Aufzeichnung der Mensapreise ist ein numerischer Vektor 
# mit mehreren Werten der Länge 4
str(mensa_preis)
```
---
# Datentypen in R
```{r typen 2, echo=TRUE}
# meine Aufzeichnung über meine Paschwürfe sind ein Vektor mit
# logischen Werten und der Länge 6
str(pasch)
# da Vektoren geordnet sind, kann ich die Position 
# der Päsche abfragen
which(pasch == TRUE)
```
Sortenreine Vektoren (atomare Vektoren) sind die Basis der meisten Datentypen in R. 
---
# Datentypen in R
**Faktoren** sind Vektoren die nur vorab festgelegte Elemente speichern. Für R sind Faktoren reine Vektoren mit ganzen Zahlen und jeder ganzen Zahl ist ein Text zugeordnet. Da ganze Zahlen gereiht werden können, werden für ordinal skalierte Variablen Faktoren verwendet.
```{r typen 3, echo=TRUE}

```