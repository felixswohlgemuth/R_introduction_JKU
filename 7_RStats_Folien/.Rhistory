"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
mutate(varnames = paste(Branch, `Type of Programme`, `Type of Expenditure`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value)
View(socx_data)
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
mutate(varnames = paste(Branch, `Type of Programme`, `Type of Expenditure`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
filter(varnames, starts_with("family"))
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
mutate(varnames = paste(Branch, `Type of Programme`, `Type of Expenditure`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
filter(varnames, starts_with("family"))
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
filter(Branch == "family") %>%
mutate(varnames = paste(Branch, `Type of Programme`, `Type of Expenditure`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
spread(varnames, Value)
View(socx_data)
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
filter(Branch == "family") %>%
mutate(varnames = paste(Branch, `Type of Expenditure`, `Type of Programme`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
spread(varnames, Value)
variable.names(socx_data)
library(tidyverse)
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
filter(Branch == "family") %>%
mutate(varnames = paste(Branch, `Type of Expenditure`, `Type of Programme`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
spread(varnames, Value)
View(socx_data)
variable.names(socx_data)
# Der niedrigsten und höchsten Ausgaben im Jahr 2015 für formale Kinderbetreuung
socx_data %>%
filter(YEAR == 2010) %>%
summarise(family_service_childcare_pct_gdp, niedrigste = min(), hoechste = max())
# Der niedrigsten und höchsten Ausgaben im Jahr 2015 für formale Kinderbetreuung
socx_data %>%
filter(YEAR == 2010) %>%
summarise(niedrigste = min(family_service_childcare_pct_gdp),
hoechste = max(family_service_childcare_pct_gdp))
setwd("~/# Teaching/R_introduction/R_introduction/7_RStats_Folien")
library(tidyverse)
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
filter(Branch == "family") %>%
filter(COUNTRY != "OECD") %>%
mutate(varnames = paste(Branch, `Type of Expenditure`, `Type of Programme`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
spread(varnames, Value)
# Die niedrigsten und höchsten Ausgaben für formale Kinderbetreuung im Jahr 2015
socx_data %>%
filter(YEAR == 2015) %>%
summarise(niedrigste = min(family_service_childcare_pct_gdp),
hoechste = max(family_service_childcare_pct_gdp))
# Die niedrigsten und höchsten Ausgaben für formale Kinderbetreuung im Jahr 2015
socx_data %>%
filter(YEAR == 2015) %>%
summarise(niedrigste = min(family_service_childcare_pct_gdp),
mittlere = median(family_service_childcare_pct_gdp)
hoechste = max(family_service_childcare_pct_gdp))
# Die niedrigsten und höchsten Ausgaben für formale Kinderbetreuung im Jahr 2015
socx_data %>%
filter(YEAR == 2015) %>%
summarise(niedrigste = min(family_service_childcare_pct_gdp),
mittlere = median(family_service_childcare_pct_gdp),
hoechste = max(family_service_childcare_pct_gdp))
help(mean)
socx_data %>%
filter(YEAR == 2015) %>%
summarise(niedrigste = min(family_service_accomodation_pct_gdp),
mittlere = median(family_service_accomodation_pct_gdp),
hoechste = max(family_service_accomodation_pct_gdp))
vtable::vt(socx_data)
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = var(family_cash_total_pct_gdp),
sd_services = var(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp))
help(range)
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
range_cash = range(family_cash_total_pct_gdp),
range_services = range(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp),
MAD_cash = mad(family_cash_total_pct_gdp),
MAD_services = mad(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(min_cash = min(family_cash_total_pct_gdp),
min_services = min(family_service_total_pct_gdp),
mean_cash = mean(family_cash_total_pct_gdp),
mean_services = mean(family_service_total_pct_gdp),
max_cash = max(family_cash_total_pct_gdp),
max_services = max(family_service_total_pct_gdp))
xaringan::inf_mr()
socx_data %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp))
socx_data %>%
filter(YEAR >= 2010 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp))
library(knitr)
kable(socx_data %>%
filter(YEAR >= 2010 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp)))
library(knitr)
kable(socx_data %>%
filter(YEAR >= 2010 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp))
format = "html")
library(knitr)
kable(socx_data %>%
filter(YEAR >= 2010 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp)),
format = "html")
DT::datatable(
socx_data %>%
filter(YEAR >= 2010 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp)))
library(knitr)
kable(
head(
socx_data %>%
filter(YEAR >= 2010 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(Var_cash = var(family_cash_total_pct_gdp),
Var_services = var(family_service_total_pct_gdp),
sd_cash = sd(family_cash_total_pct_gdp),
sd_services = sd(family_service_total_pct_gdp),
IQR_cash = IQR(family_cash_total_pct_gdp),
IQR_services = IQR(family_service_total_pct_gdp))),
format = "html")
socx_data %>%
filter(YEAR >= 2000 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(min_cash = min(family_cash_total_pct_gdp),
min_services = min(family_service_total_pct_gdp),
max_cash = max(family_cash_total_pct_gdp),
max_services = max(family_service_total_pct_gdp),
mean_cash = max(family_cash_total_pct_gdp),
mean_services = max(family_service_total_pct_gdp),
"2000_cash" = family_cash_total_pct_gdp == 2000)
DT::datatable(
socx_data %>%
filter(YEAR >= 2000 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(min_cash = min(family_cash_total_pct_gdp),
min_services = min(family_service_total_pct_gdp),
max_cash = max(family_cash_total_pct_gdp),
max_services = max(family_service_total_pct_gdp)))
socx_2010_2015 <- socx_data %>%
filter(YEAR == 2000 | YEAR == 2015) %>%
select(COUNTRY, YEAR, family_cash_total_pct_gdp, family_service_total_pct_gdp)
help(datatable)
install.packages("mosaic")
library(mosaic)
help("diffprop")
socx_2000_2015 %>%
group_by(COUNTRY) %>%
diffprop(family_cash_total_pct_gdp ~ YEAR, data = .)
socx_2000_2015 %>%
diffprop(family_cash_total_pct_gdp ~ COUNTRY, YEAR, data = .)
socx_2000_2015 %>%
diffprop(family_cash_total_pct_gdp ~ COUNTRY, YEAR, data = .)
socx_2000_2015 <- socx_data %>%
filter(YEAR == 2000 | YEAR == 2015) %>%
select(COUNTRY, YEAR, family_cash_total_pct_gdp, family_service_total_pct_gdp) %>%
print()
socx_2000_2015 %>%
diffprop(family_cash_total_pct_gdp ~ COUNTRY, YEAR, data = .)
socx_2000_2015 %>%
group_by(COUNTRY) %>%
diff(family_cash_total_pct_gdp) %>%
diff(family_service_total_pct_gdp)
socx_2000_2015 <- socx_data %>%
filter(YEAR == 2000 | YEAR == 2015) %>%
select(COUNTRY, YEAR, family_cash_total_pct_gdp, family_service_total_pct_gdp) %>%
print()
socx_2000_2015 %>%
group_by(COUNTRY) %>%
diff(family_cash_total_pct_gdp) %>%
diff(family_service_total_pct_gdp)
View(socx_2000_2015)
socx_2000_2015 %>%
group_by(COUNTRY) %>%
diff(.$family_cash_total_pct_gdp) %>%
diff(.$family_service_total_pct_gdp)
vtable::vt(socx_data)
socx_2015 <- socx_data %>%
filter(YEAR == 2015) %>%
mutate(cash_prop_total = (family_cash_total_pct_gdp / family_total_total_pct_gdp) * 100) %>%
mutate(services_prop_total = (family_service_total_pct_gdp / family_total_total_pct_gdp) * 100)
View(socx_2015)
socx_2015 %>%
summarise(mean_cash_prop =  mean(cash_prop_total), mean_services_prop = mean(services_prop_total))
socx_2015 <- socx_2015 %>%
mutate(cash_prop_diff = cash_prop - mean(cash_prop)) %>%
mutate(services_prop_diff = services_prop - mean(services_prop))
socx_2015 <- socx_2015 %>%
mutate(cash_prop_diff = cash_prop - mean(cash_prop)) %>%
mutate(services_prop_diff = services_prop - mean(services_prop))
socx_2015 <- socx_2015 %>%
mutate(cash_prop_diff = cash_prop - mean(cash_prop)) %>%
mutate(services_prop_diff = services_prop - mean(services_prop))
socx_2015 <- socx_data %>%
filter(YEAR == 2015) %>%
mutate(cash_prop = (family_cash_total_pct_gdp / family_total_total_pct_gdp) * 100) %>%
mutate(services_prop = (family_service_total_pct_gdp / family_total_total_pct_gdp) * 100)
DT::datatable(
socx_2015 %>%
select(COUNTRY, cash_prop, services_prop) %>%
mutate(cash_prop = round(cash_prop, 2)) %>%
mutate(services_prop = round(services_prop, 2)))
View(socx_2015)
socx_2015 <- socx_2015 %>%
mutate(cash_prop_diff = cash_prop - mean(cash_prop)) %>%
mutate(services_prop_diff = services_prop - mean(services_prop))
socx_2015 <- socx_2015 %>%
mutate(cash_prop_diff = cash_prop - mean(cash_prop)) %>%
mutate(services_prop_diff = services_prop - mean(services_prop))
DT::datatable(
socx_2015 %>%
select(COUNTRY, cash_prop, services_prop, cash_prop_diff, services_prop_diff) %>%
mutate(cash_prop = round(cash_prop, 2)) %>%
mutate(services_prop = round(services_prop, 2)) %>%
mutate(cash_prop_diff = round(cash_prop_diff, 2)) %>%
mutate(services_prop_diff = round(services_prop_diff, 2)))
# clean data
socx_data <- socx_data %>%            # select dataframe and replace dataframe
select(COUNTRY, YEAR, Value) %>%    # select essential variables
rename(fampol_exp_pct = Value) %>%  # rename Value Variable
mutate(fampol_exp_pct = fampol_exp_pct / 100) # recode expenditure variable: 0-1 instead of 0-100
help(summarise)
xaringan::inf_mr()
View(socx_data)
DT::datatable(
socx_data %>%
filter(YEAR >= 2000 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(sd_cash = round(sd(family_cash_total_pct_gdp),3),
sd_services = round(sd(family_service_total_pct_gdp),3),
IQR_cash = round(IQR(family_cash_total_pct_gdp),3),
IQR_services = round(IQR(family_service_total_pct_gdp),3)),
options = list(pageLength = 5,))
DT::datatable(
socx_data %>%
filter(YEAR >= 2000 & YEAR <= 2015) %>%
group_by(COUNTRY) %>%
summarise(sd_cash = round(sd(family_cash_total_pct_gdp),3),
sd_services = round(sd(family_service_total_pct_gdp),3),
IQR_cash = round(IQR(family_cash_total_pct_gdp),3),
IQR_services = round(IQR(family_service_total_pct_gdp),3)),
options = list(pageLength = 5))
socx_2000_2015 <- socx_data %>%
filter(YEAR == 2000 | YEAR == 2015) %>%
select(COUNTRY, YEAR, family_cash_total_pct_gdp, family_service_total_pct_gdp)
DT::datatable(socx_2000_2015, colnames = c("COUNTRY", "YEAR", "family_cash_<br>total_pct_gdp", "family_services_<br>total_pct_gdp"),
options = list(pageLength = 7)))
socx_2000_2015 <- socx_data %>%
filter(YEAR == 2000 | YEAR == 2015) %>%
select(COUNTRY, YEAR, family_cash_total_pct_gdp, family_service_total_pct_gdp)
DT::datatable(socx_2000_2015, colnames = c("COUNTRY", "YEAR", "family_cash_<br>total_pct_gdp", "family_services_<br>total_pct_gdp"),
options = list(pageLength = 7))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(niedrigste = min(family_service_accomodation_pct_gdp,
na.rm = TRUE),
mittlere = median(family_service_accomodation_pct_gdp,
na.rm = TRUE),
hoechste = max(family_service_accomodation_pct_gdp,
na.rm = TRUE))
socx_data %>%
filter(YEAR == 2015) %>%
summarise(niedrigste = min(family_service_accomodation_pct_gdp,
na.rm = TRUE),
mittlere = median(family_service_accomodation_pct_gdp,
na.rm = TRUE),
hoechste = max(family_service_accomodation_pct_gdp,
na.rm = TRUE))
socx_data %>%
filter(YEAR == 2015) %>%
drop_na(family_service_accomodation_pct_gdp)
summarise(niedrigste = min(family_service_accomodation_pct_gdp),
mittlere = median(family_service_accomodation_pct_gdp),
hoechste = max(family_service_accomodation_pct_gdp))
library(tidyverse)
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
filter(Branch == "family") %>%
mutate(varnames = paste(Branch, `Type of Expenditure`, `Type of Programme`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
spread(varnames, Value)
write_csv(socx_data, "data/SOCX_AGG_20042020191205895.csv")
setwd("~/# Teaching/R_introduction/R_introduction/7_RStats_Folien")
library(tidyverse)
socx_data <- read_csv("_raw/SOCX_AGG_20042020191205895.csv")
socx_data <- socx_data %>%
mutate(`Type of Expenditure` = recode(`Type of Expenditure`, "Total" = "total", "Cash benefits" = "cash", "Benefits in kind" = "service")) %>%
mutate(Branch = recode(Branch, "Old age" = "age", "Family" = "family")) %>%
mutate(`Type of Programme` = recode(`Type of Programme`, "Total" = "total",
"Old age - Early retirement pension" = "early_retirement",
"Old age - Residential care / Home-help services" = "care",
"Old age - Pension" = "pension",
"Old age - Other cash benefits" = "other_cash",
"Old age - Other benefits in kind" = "other_services",
"Family - Family allowances" = "allowances",
"Family - Maternity and parental leave" = "leave",
"Family - Other cash benefits" = "other_cash",
"Family - Early childhood education and care (ECEC)" = "childcare",
"Family - Home help / Accomodation" = "accomodation",
"Family - Other benefits in kind" = "other_services")) %>%
mutate(UNIT = recode(UNIT, "PCT_GDP" = "pct_gdp")) %>%
filter(Branch == "family") %>%
mutate(varnames = paste(Branch, `Type of Expenditure`, `Type of Programme`, UNIT, sep = "_")) %>%
select(COUNTRY, YEAR, varnames, Value) %>%
spread(varnames, Value)
write_csv(socx_data, "data/SOCX_AGG_20042020191205895.csv")
